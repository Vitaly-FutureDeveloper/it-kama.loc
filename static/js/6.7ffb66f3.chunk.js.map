{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.jsx","utils/validators/validators.js","Login/Login.jsx"],"names":["module","exports","FormControl","input","meta","touched","error","children","element","hasError","className","s","formControl","Textarea","props","restProps","child","Input","createField","placeholder","name","validators","component","text","validate","required","value","undefined","maxLenghtCreator","maxLenght","ERR_MSG","length","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","type","formSummaryError","mapDispatchToProps","login","logout","connect","state","isAuth","auth","to","formData","email","password","rememberMe"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,YAAc,mCAAmC,MAAQ,6BAA6B,iBAAmB,0C,mMCGrHC,EAAc,SAAC,GAAuD,EAAtDC,MAAuD,IAAD,IAA/CC,KAAOC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,MAAiBC,GAAc,EAAvBC,QAAuB,EAAdD,UACvDE,EAAWH,GAASD,EAC1B,OACC,sBAAKK,UAAWC,IAAEC,YAAc,IAAMD,IAAEL,MAAxC,UACC,8BACEC,IAEAE,GAAY,+BAAOH,QAKXO,EAAW,SAACC,GAAW,IAC5BX,EAAoCW,EAApCX,MAAuBY,GAAaD,EAA7BV,KAA6BU,EAAvBE,MADc,YACSF,EADT,2BAElC,OACC,cAACZ,EAAD,2BAAiBY,GAAjB,aACC,iDAAWC,GAAeZ,QAKhBc,EAAQ,SAACH,GAAW,IACzBX,EAAoCW,EAApCX,MAAuBY,GAAaD,EAA7BV,KAA6BU,EAAvBE,MADW,YACYF,EADZ,2BAE/B,OACC,cAACZ,EAAD,2BAAiBY,GAAjB,aACC,iDAAWC,GAAeZ,QAKhBe,EAAc,SAACC,EAAaC,EAAMC,EAAYC,GAAhC,IAA2CR,EAA3C,uDAAkD,GAAIS,EAAtD,uDAA2D,GAA3D,OACzB,gCACE,cAAC,IAAD,aAAOH,KAAMA,EACNI,SAAUH,EACVF,YAAaA,EACbG,UAAWA,GAAeR,IAJnC,IAI8CS,O,iCCvChD,oEAAO,IAAME,EAAW,SAACC,GAExB,OAAOA,OAAQC,EADC,4IAIJC,EAAmB,SAACC,GAAD,OAAe,SAACH,GAC/C,IAAMI,EAAO,gLAAqCD,EAArC,qDACb,OAAQH,EAAMK,QAAUF,OAAaF,EAAYG,K,8HC0B5CE,EAAiBC,YAAU,CAEhCC,KAAM,SAFgBD,EAtBL,SAACnB,GAAU,IACrBqB,EAAuBrB,EAAvBqB,aAAc7B,EAASQ,EAATR,MACrB,OACC,uBAAM8B,SAAUD,EAAhB,UACC,gCACEjB,YAAY,QAAS,QAAS,CAACO,KAAWR,IAAO,CAACoB,KAAM,SAExDnB,YAAY,WAAY,WAAY,CAACO,KAAWR,IAAO,CAACoB,KAAM,aAE9DnB,YAAY,KAAM,aAAc,GAAID,IAAO,CAACoB,KAAM,YAAa,kBAE/D/B,GAAS,qBAAKI,UAAWC,IAAE2B,iBAAlB,SACThC,IAGF,8BACC,mDAgCEiC,EAAqB,CAC1BC,UACAC,YAGcC,uBAXS,SAACC,GACxB,MAAO,CACNC,OAAQD,EAAME,KAAKD,UASmBL,EAAzBG,EA1BD,SAAC5B,GAKd,OAAIA,EAAM8B,OACF,cAAC,IAAD,CAAUE,GAAI,aAGf,gCACN,uCACA,cAACd,EAAD,CAAgBI,SAVA,SAACW,GACjBjC,EAAM0B,MAAMO,EAASC,MAAOD,EAASE,SAAUF,EAASG","file":"static/js/6.7ffb66f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__32uWb\",\"error\":\"FormsControls_error__3Jep2\",\"formSummaryError\":\"FormsControls_formSummaryError__2nVCF\"};","import React from \"react\";\r\nimport s from \"./FormsControls.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, element, children}) => {\r\n\tconst hasError = error && touched;\r\n\treturn (\r\n\t\t<div className={s.formControl + \" \" + s.error}>\r\n\t\t\t<div>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t\t{ hasError && <span>{error}</span> }\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn (\r\n\t\t<FormControl {...props} >\r\n\t\t\t<input {...restProps} {...input} />\r\n\t\t</FormControl>\r\n\t);\r\n};\r\n\r\nexport const Input = (props) => {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn (\r\n\t\t<FormControl {...props}>\r\n\t\t\t<input {...restProps} {...input} />\r\n\t\t</FormControl>\r\n\t);\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props= {}, text=\"\") => (\r\n\t\t<div>\r\n\t\t\t\t<Field name={name}\r\n\t\t\t\t\t\t\t\t\t\t validate={validators}\r\n\t\t\t\t\t\t\t\t\t\t placeholder={placeholder}\r\n\t\t\t\t\t\t\t\t\t\t component={component} {...props} /> {text}\r\n\t\t</div>\r\n);","export const required = (value) => {\r\n\tconst ERR_MSG = \"Поле не должно быть пустым\";\r\n\treturn value ? undefined : ERR_MSG;\r\n};\r\n\r\nexport const maxLenghtCreator = (maxLenght) => (value) => {\r\n\tconst ERR_MSG = `Поле должно содержать максимум ${maxLenght} символов`;\r\n\treturn (value.length <= maxLenght) ? undefined : ERR_MSG;\r\n};","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../components/common/FormsControls/FormsControls\";\r\nimport {required} from \"../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, logout} from \"../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nimport s from \"../../src/components/common/FormsControls/FormsControls.module.css\"\r\n\r\n\r\nconst LoginForm = (props) =>{\r\n\tconst {handleSubmit, error} = props;\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t{createField(\"email\", \"email\", [required], Input, {type: \"text\"})}\r\n\r\n\t\t\t\t{createField(\"password\", \"password\", [required], Input, {type: \"password\"})}\r\n\r\n\t\t\t\t{createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"Remember Me\")}\r\n\t\t\t</div>\r\n\t\t\t{ error && <div className={s.formSummaryError}>\r\n\t\t\t\t{error}\r\n\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<div>\r\n\t\t\t\t<button>Login</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n\t// a unique name for the form\r\n\tform: 'login'\r\n})(LoginForm);\r\n\r\nconst Login = (props) =>{\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe)\r\n\t};\r\n\r\n\tif (props.isAuth){\r\n\t\treturn <Redirect to={\"/Profile\"} />\r\n\t}\r\n\r\n\treturn <div>\r\n\t\t<h1>Login</h1>\r\n\t\t<LoginReduxForm onSubmit={onSubmit} />\r\n\t</div>;\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth\r\n\t}\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n\tlogin,\r\n\tlogout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);"],"sourceRoot":""}