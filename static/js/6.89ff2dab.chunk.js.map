{"version":3,"sources":["components/common/FormsControls/FormsControls.tsx","components/common/FormsControls/FormsControls.module.css","components/Dialogs/Dialogs.module.css","utils/validators/validators.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["FormControl","input","meta","touched","error","children","hasError","className","s","formControl","Textarea","props","restProps","child","Input","createField","placeholder","name","validators","component","text","validate","module","exports","required","value","undefined","maxLenghtCreator","maxLenght","ERR_MSG","length","DialogItem","key","id","path","cn","dialog","active","to","Message","message","massage","maxLenght50","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","formBlock","Field","btnSendBlock","Dialogs","dialogsPage","sendMessage","state","dialogsElements","dialogs","map","d","messagesElements","messages","m","dialogsItems","values","newMessageBody","compose","connect","dispatch","action","addMessageCreator","withAuthRedirect"],"mappings":"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","file":"static/js/6.89ff2dab.chunk.js","sourcesContent":["import React from \"react\";\r\nimport s from \"./FormsControls.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n\tconst hasError = touched && error;\r\n\treturn (\r\n\t\t<div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t\t{ hasError && <span>{error}</span> }\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn (\r\n\t\t<FormControl {...props} >\r\n\t\t\t<input {...input} {...restProps} />\r\n\t\t</FormControl>\r\n\t);\r\n};\r\n\r\nexport const Input = (props) => {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn (\r\n\t\t<FormControl {...props}>\r\n\t\t\t<input {...input} {...restProps} />\r\n\t\t</FormControl>\r\n\t);\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props= {}, text=\"\") => (\r\n\t\t<div>\r\n\t\t\t\t<Field name={name}\r\n\t\t\t\t\t\t\t validate={validators}\r\n\t\t\t\t\t\t\t placeholder={placeholder}\r\n\t\t\t\t\t\t\t component={component}\r\n\t\t\t\t\t\t\t {...props}\r\n\t\t\t\t/> {text}\r\n\t\t</div>\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__32uWb\",\"error\":\"FormsControls_error__3Jep2\",\"formSummaryError\":\"FormsControls_formSummaryError__2nVCF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2EZ-5\",\"dialogsItems\":\"Dialogs_dialogsItems__2kr04\",\"active\":\"Dialogs_active__2OFE6\",\"dialog\":\"Dialogs_dialog__3At04\",\"messages\":\"Dialogs_messages__3IHp5\",\"massage\":\"Dialogs_massage__3DzzC\",\"formBlock\":\"Dialogs_formBlock__2-1IJ\",\"btnSendBlock\":\"Dialogs_btnSendBlock__rtAUm\"};","export const required = (value) => {\r\n\tconst ERR_MSG = \"Поле не должно быть пустым\";\r\n\treturn value ? undefined : ERR_MSG;\r\n};\r\n\r\nexport const maxLenghtCreator = (maxLenght) => (value) => {\r\n\tconst ERR_MSG = `Поле должно содержать максимум ${maxLenght} символов`;\r\n\treturn (value.length <= maxLenght) ? undefined : ERR_MSG;\r\n};","import s from \"./../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport cn from \"classnames\";\r\n\r\nconst DialogItem = ({key, id, name}) => {\r\n\tconst path = \"/dialogs/\" + id;\r\n\r\n\treturn (\r\n\t\t<div key={key} className={cn(s.dialog, s.active)}>\r\n\t\t\t<NavLink to={path}>\r\n\t\t\t\t{name}\r\n\t\t\t</NavLink>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DialogItem;","import s from \"./../Dialogs.module.css\";\r\n\r\n\r\nconst Message = ({key, message}) => {\r\n\treturn (\r\n\t\t<div key={key} className={s.massage}>{message}</div>\r\n\t);\r\n};\r\n\r\nexport default Message;","import * as React from 'react';\r\n\r\nimport s from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLenghtCreator, required} from \"../../utils/validators/validators\";\r\n\r\n\r\n\r\nconst Dialogs = ({ dialogsPage, sendMessage,...props}) => {\r\n\r\n\tconst state = dialogsPage;\r\n\r\n\tconst addNewMessage = (values) => {\r\n\t\tsendMessage(values.newMessageBody);\r\n\t};\r\n\r\n\tconst dialogsElements = state.dialogs\r\n\t\t.map(d => <DialogItem name={d.name} key={d.id} id={d.id} />);\r\n\r\n\tconst messagesElements = state.messages\r\n\t\t.map(m => <Message message={m.message} key={m.id} />);\r\n\r\n\r\n\treturn (\r\n\t\t<div className={s.dialogs}>\r\n\t\t\t<div className={s.dialogsItems}>\r\n\t\t\t\t{dialogsElements}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={s.messages}>\r\n\t\t\t\t{messagesElements}\r\n\t\t\t</div>\r\n\r\n\t\t\t<AddMessageFormRedux onSubmit={addNewMessage} />\r\n\t\t\t{/*Form*/}\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nconst maxLenght50 = maxLenghtCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div className={s.formBlock}>\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Field component={Textarea}\r\n\t\t\t\t\t\t\t\t validate={[required, maxLenght50]}\r\n\t\t\t\t\t\t\t\t name=\"newMessageBody\"\r\n\t\t\t\t\t\t\t\t placeholder=\"Введите своё сообщение\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.btnSendBlock}>\r\n\t\t\t\t\t<button className=\"btn btn-send\">Отправить</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\"})(AddMessageForm);\r\n\r\nexport default Dialogs;","import * as React from 'react';\r\n\r\nimport {addMessageCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogsPage: state.dialogsPage\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\r\n\t\tsendMessage: (newMessageBody) => {\r\n\t\t\tconst action = addMessageCreator(newMessageBody);\r\n\t\t\tdispatch(action);\r\n\t\t},\r\n\t};\r\n};\r\n\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}